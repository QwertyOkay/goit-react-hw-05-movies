{"version":3,"file":"static/js/578.824cd415.chunk.js","mappings":"sPACA,EAA4B,0BAA5B,EAA+D,uBAA/D,EAA4F,oB,SCyE5F,MAlEA,WACE,OAAwBA,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0CJ,EAAAA,EAAAA,UAAS,IAAnD,eAAOK,EAAP,KAAsBC,EAAtB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAQC,EAAAA,EAAAA,UAAQ,kBAAMH,EAAaI,IAAI,WAAU,CAACJ,IACxD,GAA6BK,EAAAA,EAAAA,MAArBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAqClB,OAnCAC,EAAAA,EAAAA,YAAU,WACM,OAAVN,GAAmC,IAAjBA,EAAMO,SAI5Bb,EAAUM,GACVR,EAAQQ,MACP,CAACA,KAEJM,EAAAA,EAAAA,YAAU,WACc,IAAlBb,EAAOc,SAGXC,EAAAA,EAAAA,IAAoBf,GAAQgB,MAAK,YAA4B,IAAjBC,EAAgB,EAAxBC,KAAQD,QAC1Cd,EAAiBc,QAElB,CAACjB,KAoBF,iBAAKmB,UAAU,YAAf,WACE,iBAAKA,UAAWC,EAAhB,WACE,kBACEC,KAAK,OACLC,MAAOxB,EACPyB,SAvBY,SAAAC,GAClBzB,EAAQyB,EAAEC,OAAOH,MAAMI,SAuBjBP,UAAWC,EACXO,YAAY,oBACZC,WAAS,KAEX,mBAAQP,KAAK,SAASQ,QAxBP,SAAAL,GAGnB,GAFAA,EAAEM,iBAEkB,IAAhBhC,EAAKgB,OAGP,OAFAX,EAAiB,SACjBG,IAIFL,EAAUH,GACVQ,EAAgB,CAAEC,MAAOT,KAcwBqB,UAAWC,EAAxD,uBAKwB,IAAzBlB,EAAcY,SACb,SAACiB,EAAA,QAAD,CAAWC,MAAO9B,EAAe+B,SAAUtB,EAAWC,S,mGCnE9D,EAAuB,qBAAvB,EAAwD,0BAAxD,EAA8F,0B,SC+B9F,MA1BA,YAAyC,IAApBoB,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAC1B,OACE,gBAAKd,UAAU,YAAf,UACE,eAAIA,UAAWC,EAAf,SACGY,EAAME,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAIC,EAAd,EAAcA,YAAd,OACT,eAAalB,UAAWC,EAAxB,UACE,UAAC,KAAD,CACEkB,GAAE,kBAAaF,GACfjB,UAAWC,EACXmB,MAAO,CAAEC,KAAMP,GAHjB,WAKE,gBAAKQ,KAAKC,EAAAA,EAAAA,IAAML,GAAcM,IAAI,OAAOC,MAAM,SAC/C,uBAAIT,QAPCC","sources":["webpack://react-homework-template/./src/components/InputSearch/styled.module.scss?a1ab","components/InputSearch/InputSearch.jsx","webpack://react-homework-template/./src/components/ItemsList/styled.module.scss?dde4","components/ItemsList/ItemsList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styled_container__mDKVD\",\"search\":\"styled_search__nOsDS\",\"btn\":\"styled_btn__0Os-K\"};","import { fetchSearchingFilms } from 'API/API';\nimport ItemsList from 'components/ItemsList/ItemsList';\nimport React, { useState } from 'react';\nimport { useMemo } from 'react';\nimport { useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport styled from './styled.module.scss';\n\nfunction InputSearch() {\n  const [text, setText] = useState('');\n  const [submit, setSubmit] = useState('');\n  const [searchedFilms, setSearchedFilms] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = useMemo(() => searchParams.get('query'), [searchParams]);\n  const { pathname, search } = useLocation();\n\n  useEffect(() => {\n    if (query === null || query.length === 0) {\n      return;\n    }\n\n    setSubmit(query);\n    setText(query);\n  }, [query]);\n\n  useEffect(() => {\n    if (submit.length === 0) {\n      return;\n    }\n    fetchSearchingFilms(submit).then(({ data: { results } }) => {\n      setSearchedFilms(results);\n    });\n  }, [submit]);\n\n  const handleInput = e => {\n    setText(e.target.value.trim());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (text.length === 0) {\n      setSearchedFilms([]);\n      setSearchParams();\n      return;\n    }\n\n    setSubmit(text);\n    setSearchParams({ query: text });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className={styled.container}>\n        <input\n          type=\"text\"\n          value={text}\n          onChange={handleInput}\n          className={styled.search}\n          placeholder=\"Enter the name...\"\n          autoFocus\n        />\n        <button type=\"submit\" onClick={handleSubmit} className={styled.btn}>\n          Search\n        </button>\n      </div>\n\n      {searchedFilms.length !== 0 && (\n        <ItemsList items={searchedFilms} location={pathname + search} />\n      )}\n    </div>\n  );\n}\n\nexport default InputSearch;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"styled_list__p3sXg\",\"list_item\":\"styled_list_item__1n+h5\",\"list_link\":\"styled_list_link__wOdPX\"};","import { image } from 'API/API';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from './styled.module.scss';\nimport PropTypes from 'prop-types';\n\nfunction ItemsList({ items, location }) {\n  return (\n    <div className=\"container\">\n      <ul className={styled.list}>\n        {items.map(({ title, id, poster_path }) => (\n          <li key={id} className={styled.list_item}>\n            <Link\n              to={`/movies/${id}`}\n              className={styled.list_link}\n              state={{ from: location }}\n            >\n              <img src={image(poster_path)} alt=\"None\" width=\"500\" />\n              <p>{title}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nItemsList.propTypes = {\n  location: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n};\n\nexport default ItemsList;\n"],"names":["useState","text","setText","submit","setSubmit","searchedFilms","setSearchedFilms","useSearchParams","searchParams","setSearchParams","query","useMemo","get","useLocation","pathname","search","useEffect","length","fetchSearchingFilms","then","results","data","className","styled","type","value","onChange","e","target","trim","placeholder","autoFocus","onClick","preventDefault","ItemsList","items","location","map","title","id","poster_path","to","state","from","src","image","alt","width"],"sourceRoot":""}